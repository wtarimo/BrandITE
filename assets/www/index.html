
<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="cache-control" content="no-cache">
        <meta http-equiv="pragma" content="no-cache">        
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
        <meta http-equiv="expires" content="-1" />
        <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
		<link rel="stylesheet"  href="./css/jquery.mobile-1.3.2.min.css">
        <link rel="stylesheet" type="text/css" href="http://dev.jtsage.com/cdn/datebox/latest/jqm-datebox.min.css">
        <link rel="stylesheet"  href="./css/style.css">
        <script src="./js/jquery.js"></script>
      
        <script src="./js/jquery.mobile-1.3.2.min.js"></script>
        <script type="text/javascript" src="./js/index.js"></script>
        <script src="./js/parse-1.2.12.min.js"></script>
        <script src="./js/jquery.tmpl.min.js"></script>
        <script type="text/javascript" src="http://dev.jtsage.com/cdn/datebox/latest/jqm-datebox.core.min.js"></script>
        <script type="text/javascript" src="http://dev.jtsage.com/cdn/datebox/latest/jqm-datebox.mode.calbox.min.js"></script>
        <script type="text/javascript" src="http://dev.jtsage.com/cdn/datebox/latest/jqm-datebox.mode.flipbox.min.js"></script>
        <script type="text/javascript" src="http://dev.jtsage.com/cdn/datebox/i18n/jquery.mobile.datebox.i18n.en_US.utf8.js"></script>

        <title>Brandeis IT Entrepreneurship Lunch and Learn</title>
    </head>

    <script>
		Parse.initialize("SMUqnN9uzCC7vd2iGgXu34Hqg7skSd1JqM6AiEhE", "7mOIzeGfejhzCNXvpFPXcxE4BVK657Q3JvgJ8RgG");
    </script>

    <body>

    	<div data-role="page" id="ballotPage">
            <div data-role="panel" style="text-align:center; font-size:13px" id="helpPanel">
                <h3>How To Use the Application</h3>
                <p style="text-align:left;">If you're not logged in you can only view topics in all 3 views but you cannot vote or suggest new topics. <br>When logged in:<br>Ballot view: You can vote up or down topics listed under 'Approved Topics'.<br>Pending view: Here you can suggest new topics which after addition will be subject to admin's approval before members can vote on them.<br>Completed view: Listed here are topics that have already been discussed.</p>
                <a href="#" data-rel="close" data-mini="true" data-role="button" data-theme="e" data-icon="delete" data-inline="true">Exit Help</a>

                <form>
                    <div style="text-align:center ">
                        <h3>Contact Me/Report an Issue</h3>
                        <input type="text" name="subject" data-theme="c" id="subject" value="" placeholder="Subject" data-theme="a">
                        
                        <textarea name="message" value="" id="message" placeholder="Message" data-theme="c"></textarea>
                        <button id="submitMessage" data-mini="true" data-theme="e" data-inline="true" data-icon="edit">Submit</button>
                    </div>
                </form>
            </div>


            <div data-role="header" data-position="fixed" style="height:42px" class="ui-bar">
                <div align="center">
                    <a href="#helpPanel" data-role="button" data-icon="alert" data-theme="b" style="color:yellow; float:left">Help</a>
                    <a data-role="button" onclick="BrandITE.refreshBallot(); return false" rel="external" data-icon="refresh" data-theme="b" data-iconpos="notext" style="float:left; margin-left:5px; margin-top:12px">Refresh Ballot</a>
                    <h1 style="margin-top:15px">TOPICS</h1>
                    <a href="#" data-role="button" id='accessButton' data-theme='b' style="float:right; margin-right:30px" data-icon="delete">logIn</a>
                    <a href="#adminPage" id="adminButton" data-role="button" data-iconpos="notext" data-transition="flip" data-theme='e' style="float:right; margin-right:5px; margin-top:11px" data-icon="admin">Admin Console</a>
                </div>
            </div>

            <div data-role="content">
            	<ul data-role="listview" data-split-icon="check" data-inset="true" id="scheduledPool" data-divider-theme="a"></ul>
                <ul data-role="listview" data-split-icon="arrow-d" data-count-theme="b" data-inset="true" id="ballotPool" data-divider-theme="a"></ul>
            </div>

            <div data-role="popup" id="popupEditTopic" data-theme="a" class="ui-corner-all">
                <form>
                    <div style="padding:10px 20px; text-align:center ">
                        <h3>Edit this Topic</h3>
                        <input type="text" name="topicTitle1" data-theme="c" id="topicTitle1" value="" placeholder="Topic Title" data-theme="a">
                        
                        <textarea cols="40" rows="8" name="topicInfo1" value="" id="topicInfo1" placeholder="Description (Optional!)" data-theme="c"></textarea>
                        <textarea cols="40" rows="8" name="topicLinks1" value="" id="topicLinks1" placeholder="Links separated by semicolons. (Optional!)" data-theme="c"></textarea>
                        <button id="editTopicButton" data-theme="b" data-icon="edit">Submit</button>
                    </div>
                </form>
            </div>

            <div data-role="popup" id="popupLogin" data-theme="a" class="ui-corner-all">
                <form>
                    <div style="padding:10px 20px; text-align:center;">
                        <h3>Sign In</h3>
                        <input type="email" name="email" id="email" value="" placeholder="E-mail" data-theme="a">
                        <input type="password" name="password" id="password" value="" placeholder="Password" data-theme="a">
                        <button id="loginButton" data-theme="b" data-icon="check">Sign In</button>
                        <a href="#popupReset" data-inline="true" style='font-size:13px;' data-rel="popup" data-transition="flip">Forgot Password?</a>
                        <h3>Sign Up</h3>
                        <p>When done click "Sign Up", don't hit Return/Enter key</p>
                        <input type="email" name="email1" id="email1" value="" placeholder="E-mail" data-theme="a">
                        <input type="password" name="password1" id="password1" value="" placeholder="Password" data-theme="a">
                        <button id="signUpButton" data-theme="b" data-icon="edit">Sign Up</button>
                    </div>
                </form>
            </div>

            <div data-role="popup" id="schedulePostPopup" data-theme="a" class="ui-corner-all">
                <form>
                    <div style="padding:10px 20px; text-align:center">
                        <h3>Schedule this post for an upcoming event?</h3>
                        <p>Scheduling stops any further voting on this post</p>
                        <input name="dueDate" id="dueDate" placeholder="Event Date" type="text" data-role="datebox" data-options='{"mode":"calbox", "useNewStyle":true,  "zindex":10000}'/>
                        <input name="startTime" placeholder="Default: 2:00 PM" id="startTime" type="date" data-role="datebox" value="2:00 PM" data-options ='{"mode": "timeflipbox", "zindex":10000, "overrideTimeFormat": 24}'>
                        <input type="text" name="eventLocation" data-theme="c" id="eventLocation" value="Volen 101" placeholder="Default: Volen 101" data-theme="a">
                        <input type="text" name="eventInfo" data-theme="c" id="eventInfo" value="" placeholder="Info (Optional!)" data-theme="a">
                        <textarea cols="40" rows="8" name="topicLinks" value="" id="topicLinks" placeholder="Links separated by semicolons. (Optional!)" data-theme="c"></textarea>
                        <button id="scheduleButton" data-theme="b" data-icon="check">Schedule</button>
                    </div>
                </form>
            </div>

            <div data-role="footer" data-position="fixed">
                <div data-role="navbar">
                    <ul>
                        <li><a href="#pendingPage" data-transition="flip" data-direction="reverse">Pending<strong id="pendingCount" style='float:right;'>0</strong></a></li>
                        <li><a href="#ballotPage" data-transition="flip" data-direction="reverse" class="ui-btn-active ui-state-persist">Ballot<strong id="ballotCount" style='float:right;'>0</strong></a></li>
                        <li><a href="#completedPage" data-transition="flip">Completed<strong id="completedCount" style='float:right;'>0</strong></a></li>
                    </ul>
                </div>
            </div>
        </div>


    	<div data-role="page" id="pendingPage">
            <div data-role="header" data-position="fixed">
            	<a data-role="button" onclick="BrandITE.refreshPending(); return false" rel="external" data-icon="refresh" data-theme="b" data-iconpos="notext" data-inline="true">Refresh Pending Topics</a>
                <h1>TOPICS</h1>
            </div>
            
            <div data-role="content">
            	<div id="createTopicOptions">
                    <div style="text-align: center;">Suggest a new topic!</div>
                    <div>
                        <a href="#popupSuggestTopic" data-rel="popup" data-role="button" data-icon="edit" data-theme="b" data-transition="flip">Suggest Topic</a>
                    </div>
                </div>
                <div data-role="popup" id="popupSuggestTopic" data-theme="a" class="ui-corner-all">
                    <form>
                        <div style="padding:10px 20px; text-align:center ">
                            <h3>Create New Topic</h3>
                            <input type="text" name="topicTitle" data-theme="c" id="topicTitle" value="" placeholder="Topic Title" data-theme="a">
                            
                            <textarea cols="40" rows="8" name="topicInfo" value="" id="topicInfo" placeholder="Description (Optional!)" data-theme="c"></textarea>
                            <textarea cols="40" rows="8" name="topicLinks" value="" id="topicLinks" placeholder="Links separated by semicolons. (Optional!)" data-theme="c"></textarea>
                            <button id="createTopicButton" data-theme="b" data-icon="edit">Submit</button>
                        </div>
                    </form>
                </div>
                <ul data-role="listview" data-split-icon="check" data-inset="true" id="pendingPool" data-divider-theme="a"></ul>
            </div>
            <div data-role="footer" data-position="fixed">
                <div data-role="navbar">
                    <ul>
                        <li><a href="#pendingPage" data-transition="flip" data-direction="reverse" class="ui-btn-active ui-state-persist">Pending<strong id="pendingCount1" style='float:right;'>0</strong></a></li>
                        <li><a href="#ballotPage" data-transition="flip" data-direction="reverse">Ballot<strong id="ballotCount1" style='float:right;'>0</strong></a></li>
                        <li><a href="#completedPage" data-transition="flip">Completed<strong id="completedCount1" style='float:right;'>0</strong></a></li>
                    </ul>
                </div>
            </div>
        </div>
        

        <div data-role="page" id="completedPage">
            <div data-role="header" data-position="fixed">
            	<a data-role="button" onclick="BrandITE.refreshCompleted(); return false" rel="external" data-icon="refresh" data-theme="b" data-iconpos="notext" data-inline="true">Refresh Completed Topics</a>
                <h1>TOPICS</h1>
            </div>
            <div data-role="content">
                <ul data-role="listview" data-inset="true" id="completedPool" data-divider-theme="a"></ul>
            </div>
            <div data-role="footer" data-position="fixed">
                <div data-role="navbar">
                    <ul>
                        <li><a href="#pendingPage" data-transition="flip" data-direction="reverse">Pending<strong id="pendingCount2" style='float:right;'>0</strong></a></li>
                        <li><a href="#ballotPage" data-transition="flip" data-direction="reverse">Ballot<strong id="ballotCount2" style='float:right;'>0</strong></a></li>
                        <li><a href="#completedPage" data-transition="flip" class="ui-btn-active ui-state-persist">Completed<strong id="completedCount2" style='float:right;'>0</strong></a></li>
                    </ul>
                </div>
            </div>
        </div>


        <div data-role="page" id="adminPage">
            <div data-role="header" data-position="fixed">
                <a data-role="button" href="#ballotPage" data-direction="reverse" data-transition="flip" data-icon="back" data-theme="b" data-iconpos="notext" data-inline="true">Exit</a>
                <h1>Admin Console</h1>
                <a data-role="button" onclick="BrandITE.showVoting(); return false" rel="external" data-icon="refresh" data-theme="b" data-iconpos="notext" data-inline="true">Refresh Content</a>
            </div>
            <div data-role="content">
                <fieldset class="ui-grid-b">
                    <div class="ui-block-a"><button type="submit" onclick="BrandITE.showVoting(); return false" data-theme="b">User Voting</button></div>
                    <div class="ui-block-b"><button type="submit" data-theme="c">{}{}{}{}{}</button></div>
                    <div class="ui-block-c"><button type="submit" data-theme="c">{}{}{}{}{}</button></div>
                </fieldset>

                <ul data-role="listview" class="ui-li-twoBubble" data-inset="true" id="contentList" data-count-theme="c" data-divider-theme="a"></ul>

            </div>
            <div data-role="footer" data-position="fixed">
                <h1>Admin Console</h1>
            </div>
        </div>

    </body>

    <script id="userVoting" type="text/x-jquery-tmpl">  
        <li data-icon="false"><a href="#">${email}
            <span style="color:green;" class="ui-li-count old-content">${ups}</span>
            <span style="color:red;" class="ui-li-count new-content">${downs}</span>
           </a>
        </li>
    </script>


    <script id="pendingTopic" type="text/x-jquery-tmpl">  
        <li data-icon="false"><a id=${id}>
           <h3>${title}</h3>
           <p>Submitted On: <strong>${date}</strong></p>
           <p>${info}</p>
           <p class = "ui-li-aside">By: ${promoter}</p>
           </a>
        </li>
    </script>

    <script id="approvedTopicU" type="text/x-jquery-tmpl">  
        <li><a id=${id} title="Vote Up">
            <img src="img/arrow-u1.PNG" alt="Vote Up">
            <span class="ui-li-count">Votes: ${votes}</span>
           <h3>${title2}</h3>
           <p>Submitted On: <strong>${date}</strong></p>
           <p>${info}</p>
           <p class = "ui-li-aside">By: ${promoter}</p>
           </a>
           <a href="#" id1=${id1} data-rel="popup" data-role="button" >Vote Down</a>
        </li>
    </script>

    <script id="approvedTopicA" type="text/x-jquery-tmpl">  
        <li><a id=${id} title="Click to Schedule">
            <span class="ui-li-count">Votes: ${votes}</span>
           <h3>${title2}</h3>
           <p>Submitted On: <strong>${date}</strong></p>
           <p>${info}</p>
           <p class = "ui-li-aside">By: ${promoter}</p>
           </a>
           <a href="#" id1=${id1} data-rel="popup" data-icon="edit" data-role="button" >Edit Topic</a>
        </li>
    </script>

    <script id="ascheduledTopic" type="text/x-jquery-tmpl">  
        <li><a id=${id} title="Click to Edit Post"><span class="ui-li-count">Votes: ${votes}</span>
           <h3>${title}</h3>
           <p>Scheduled For: <strong>${date}</strong></p>
           <p>${info}</p>
           <p class = "ui-li-aside">Location: ${location}</p>
           </a>
           <a href="#" id1=${id1} id="doneButton" data-rel="popup" data-role="button" data-icon="check" >Move to Completed Pool</a>
        </li>
    </script>

    <script id="completedTopic" type="text/x-jquery-tmpl">  
        <li data-icon="false"><a id=${id}><span class="ui-li-count">Votes: ${votes}</span>
           <h3>${title}</h3>
           <p>Discussed On: <strong>${date}</strong></p>
           <p>${info}</p>
           <p class = "ui-li-aside">Location: ${location}</p>
           </a>
           <a href="#" id1=${id1} id="openReadings" data-rel="popup" data-role="button" data-icon="book" >Open Readings</a>
        </li>
    </script>

    <script id="completedTopicA" type="text/x-jquery-tmpl">  
        <li data-icon="false"><a id=${id}><span class="ui-li-count">Votes: ${votes}</span>
           <h3>${title}</h3>
           <p>Discussed On: <strong>${date}</strong></p>
           <p>${info}</p>
           <p class = "ui-li-aside">Location: ${location}</p>
           </a>
           <a href="#" id1=${id1} id="deleteButton" data-rel="popup" data-role="button" data-icon="delete" >Delete Topic</a>
        </li>
    </script>

    <script id="scheduledTopic" type="text/x-jquery-tmpl">  
        <li data-icon="false"><a id=${id}><span class="ui-li-count">Votes: ${votes}</span>
           <h3>${title}</h3>
           <p>Scheduled For: <strong>${date}</strong></p>
           <p>${info}</p>
           <p class = "ui-li-aside">Location: ${location}</p>
           </a>
           <a href="#" id1=${id1} id="openReadings" data-rel="popup" data-role="button" data-icon="book" >Open Readings</a>
        </li>
    </script>

    <script id="approvedTopic" type="text/x-jquery-tmpl">  
        <li data-icon="false"><a id=${id} title=${title1}><span class="ui-li-count">Votes: ${votes}</span>
           <h3>${title2}</h3>
           <p>Submitted On: <strong>${date}</strong></p>
           <p>${info}</p>
           <p class = "ui-li-aside">By: ${promoter}</p>
           </a>
        </li>
    </script>

    <script id="apendingTopic" type="text/x-jquery-tmpl">  
        <li><a id=${id}>
           <h3>${title}</h3>
           <p>Submitted On: <strong>${date}</strong></p>
           <p>${info}</p>
           <p class = "ui-li-aside">By: ${promoter}</p>
           </a>
           <a href="#" id1=${id1} id="approveButton" data-role="button" data-icon="check" >Approve Topic</a>
        </li>
    </script>

    <script id="pendingTopicO" type="text/x-jquery-tmpl">  
        <li><a id=${id}>
           <h3>${title}</h3>
           <p>Submitted On: <strong>${date}</strong></p>
           <p>${info}</p>
           <p class = "ui-li-aside">By: ${promoter}</p>
           </a>
           <a href="#" id1=${id1} id="editButton" data-role="button" data-icon="edit">Edit Topic</a>
        </li>
    </script>

</html>

